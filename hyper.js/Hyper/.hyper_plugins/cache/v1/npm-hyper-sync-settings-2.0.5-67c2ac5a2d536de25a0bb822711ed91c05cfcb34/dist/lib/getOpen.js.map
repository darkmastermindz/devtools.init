{"version":3,"sources":["../../src/lib/getOpen.js"],"names":["webContents","runJs","js","run","wrappedJs","executeJavaScript","undefined","open","window","url","notification","title","body","item","path"],"mappings":";;;;;;kBAAe,CAAC,EAAEA,WAAF,EAAD,KAAqB;AAClC,QAAMC,QAAQ,CAACC,EAAD,EAAKC,GAAL,KAAa;AACzB,QAAIC,YAAa;;UAEXF,EAAG;;KAFT;AAKA,QAAI,CAACC,GAAL,EAAU,OAAOC,SAAP;AACVA,gBAAa,IAAGA,SAAU,KAA1B;AACAJ,gBAAYK,iBAAZ,CAA8BD,SAA9B;AACA,WAAOE,SAAP;AACD,GAVD;;AAYA,QAAMC,OAAOJ,QAAQ;AACnBK,YAAQC,OAAOR,MAAO;;4BAEEQ,GAAI;KAFb,EAGZN,GAHY,CADI;AAKnBO,kBAAc,CAACC,KAAD,EAAQC,IAAR,EAAcH,GAAd,KAAsBR,MAAO;;WAEpCU,SAAS,EAAG;;mBAEJC,QAAQ,EAAG;;;QAGtBH,OAAQ,0BAAyBF,KAAK,KAAL,EAAYC,MAAZ,CAAmBC,GAAnB,CAAwB,EAAE;KAP3B,EAQjCN,GARiC,CALjB;AAcnBU,UAAMC,QAAQb,MAAO;;wBAEDa,IAAK;KAFX,EAGXX,GAHW;AAdK,GAAR,CAAb;;AAoBA,SAAOI,KAAK,IAAL,CAAP;AACD,C","file":"getOpen.js","sourcesContent":["export default ({ webContents }) => {\n  const runJs = (js, run) => {\n    let wrappedJs = `\n      () => {\n        ${js}\n      }\n    `;\n    if (!run) return wrappedJs;\n    wrappedJs = `(${wrappedJs})()`;\n    webContents.executeJavaScript(wrappedJs);\n    return undefined;\n  };\n\n  const open = run => ({\n    window: url => runJs(`\n      const { shell } = require('electron');\n      shell.openExternal('${url}');\n    `, run),\n    notification: (title, body, url) => runJs(`\n      const notification = new Notification(\n        '${title || ''}',\n        {\n          body: '${body || ''}',\n        }\n      );\n      ${url && `notification.onclick = ${open(false).window(url)}`}\n    `, run),\n    item: path => runJs(`\n      const { shell } = require('electron');\n      shell.openItem('${path}');\n    `, run),\n  });\n\n  return open(true);\n};\n"]}