{"version":3,"sources":["../../src/lib/checkForMissingSettings.js"],"names":["open","config","personalAccessToken","gistId","hyperConfig","app","getConfig","syncSettings","quiet","commands","notify","message","notification","errorTitle","setupUrl"],"mappings":";;;;;;AAAA;;AACA;;;;AACA;;;;AACA;;;;kBAEeA,QAAQ;AACrB,QAAMC,SAAS,6BAAf;AADqB,QAEbC,mBAFa,GAEmBD,MAFnB,CAEbC,mBAFa;AAAA,QAEQC,MAFR,GAEmBF,MAFnB,CAEQE,MAFR;;AAGrB,QAAMC,cAAcC,cAAIJ,MAAJ,CAAWK,SAAX,GAAuBC,YAAvB,IAAuC,EAAEC,OAAO,KAAT,EAA3D;;AAEA,MAAIN,uBAAuBC,MAA3B,EAAmC;AACjC,UAAMM,WAAW,2BAAYR,MAAZ,EAAoBD,IAApB,EAA0BI,WAA1B,CAAjB;AACA,WAAO,EAAEH,MAAF,EAAUQ,QAAV,EAAP;AACD;;AAED,QAAMC,SAASC,WAAWX,KAAKY,YAAL,CAAkBC,qBAAlB,EAA8BF,OAA9B,EAAuCG,mBAAvC,CAA1B;;AAEA,MAAI,CAACZ,mBAAD,IAAwB,CAACC,MAA7B,EAAqC;AACnCO,WAAO,0CAAP;AACA,WAAO,KAAP;AACD;;AAED,MAAI,CAACR,mBAAL,EAA0BQ,OAAO,qDAAP;AAC1B,MAAI,CAACP,MAAL,EAAaO,OAAO,wCAAP;AACb,SAAO,KAAP;AACD,C","file":"checkForMissingSettings.js","sourcesContent":["import { app } from 'electron';\nimport getGitConfig from './getGitConfig';\nimport getCommands from './getCommands';\nimport { errorTitle, setupUrl } from '../constants';\n\nexport default open => {\n  const config = getGitConfig();\n  const { personalAccessToken, gistId } = config;\n  const hyperConfig = app.config.getConfig().syncSettings || { quiet: false };\n\n  if (personalAccessToken && gistId) {\n    const commands = getCommands(config, open, hyperConfig);\n    return { config, commands };\n  }\n\n  const notify = message => open.notification(errorTitle, message, setupUrl);\n\n  if (!personalAccessToken && !gistId) {\n    notify('Settings not found! Click for more info.');\n    return false;\n  }\n\n  if (!personalAccessToken) notify('`personalAccessToken` not set! Click for more info.');\n  if (!gistId) notify('`gistId` not set! Click for more info.');\n  return false;\n};\n"]}