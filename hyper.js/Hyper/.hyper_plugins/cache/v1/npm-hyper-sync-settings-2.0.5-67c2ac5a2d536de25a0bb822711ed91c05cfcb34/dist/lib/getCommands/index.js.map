{"version":3,"sources":["../../../src/lib/getCommands/index.js"],"names":["config","open","quiet","catchError","err","notification","errorTitle","notify","emoji","message","title","url","checkForUpdates","isUpdated","catch","tryToBackup","tryToRestore"],"mappings":";;;;;;;;;;AAAA;;AACA;;;;AACA;;;;AACA;;;;;;kBAEe,CAACA,MAAD,EAASC,IAAT,EAAe,EAAEC,KAAF,EAAf,KAA6B;AAC1C,QAAMC,aAAaC,OAAO;AACxBH,SAAKI,YAAL,CAAkBC,qBAAlB,EAA8BF,GAA9B;AACA,UAAMA,GAAN;AACD,GAHD;;AAKA,QAAMG,SAAS,CAACC,KAAD,EAAQC,OAAR,KAAoBR,KAAKI,YAAL,CAAmB,GAAEK,gBAAM,IAAGF,KAAM,EAApC,EAAuCC,OAAvC,EAAgDT,OAAOW,GAAvD,CAAnC;;AAEA,SAAO;AACLC;AAAA,iDAAiB,aAAY;AAC3B,cAAMC,YAAY,MAAM,uBAAQb,MAAR,EAAgBc,KAAhB,CAAsBX,UAAtB,CAAxB;;AAEA,YAAIU,SAAJ,EAAe;AACbN,iBAAO,IAAP,EAAa,mCAAb;AACD,SAFD,MAEO,IAAI,CAACL,KAAL,EAAY;AACjBK,iBAAO,IAAP,EAAa,+BAAb;AACD;AACF,OARD;;AAAA;AAAA;AAAA;AAAA,QADK;AAULQ;AAAA,kDAAa,aAAY;AACvB,cAAM,sBAAOf,MAAP,EAAec,KAAf,CAAqBX,UAArB,CAAN;AACAI,eAAO,IAAP,EAAa,gCAAb;AACD,OAHD;;AAAA;AAAA;AAAA;AAAA,QAVK;AAcLS;AAAA,kDAAc,aAAY;AACxB,cAAM,uBAAQhB,MAAR,EAAgBc,KAAhB,CAAsBX,UAAtB,CAAN;AACAI,eAAO,IAAP,EAAa,mCAAb;AACD,OAHD;;AAAA;AAAA;AAAA;AAAA;AAdK,GAAP;AAmBD,C","file":"index.js","sourcesContent":["import { title, errorTitle } from '../../constants';\nimport updates from './updates';\nimport restore from './restore';\nimport backup from './backup';\n\nexport default (config, open, { quiet }) => {\n  const catchError = err => {\n    open.notification(errorTitle, err);\n    throw err;\n  };\n\n  const notify = (emoji, message) => open.notification(`${title} ${emoji}`, message, config.url);\n\n  return {\n    checkForUpdates: async () => {\n      const isUpdated = await updates(config).catch(catchError);\n\n      if (isUpdated) {\n        notify('❗️', 'Your settings need to be updated.');\n      } else if (!quiet) {\n        notify('👍', 'Your settings are up to date.');\n      }\n    },\n    tryToBackup: async () => {\n      await backup(config).catch(catchError);\n      notify('🔜', 'Your settings have been saved.');\n    },\n    tryToRestore: async () => {\n      await restore(config).catch(catchError);\n      notify('🔙', 'Your settings have been restored.');\n    },\n  };\n};\n"]}